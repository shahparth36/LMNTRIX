<%- include("./partials/header") %>
<title>Explore | SetItUp</title>
<link rel="stylesheet" href="/stylesheets/explore.css">
</head>
<body>
    <div class="container-fluid">
        <div style="width: 85%;" class="jumbotron m-3 mx-auto rounded-lg shadow-lg">
            <div class="container text-center ">
              <div class="row">
                <div class="col-lg-8 order-2 order-lg-1">
                    <h1 class="display-3 h1">Explore <i class="fas fa-search"></i></h1>
            <p class="lead mt-5">You can search and explore users according to your Preferences using the filters and try to find the perfect match for you!</p>
                </div>
                <div class="col-lg-4 order-1 order-lg-2 d-flex justify-content-center align-items-lg-start p-0">
                  <img src="/images/venus-mars-solid.svg" alt="" class="img-fluid siu-logo">
                </div>
              </div>
              </div>
        </div>
        <div class="row">
            <div class="col-12 col-lg-3 mt-3">
                <p>
                    <button class="btn btn-light" type="button" data-toggle="collapse" data-target="#collapseExample"
                        aria-expanded="false" aria-controls="collapseExample" style="width: 100%; font-size: 20px;">
                        Filters <i class="fas fa-filter"></i>
                    </button>
                </p>
                <div class="collapse show" id="collapseExample">
                    <div class="card card-body col-md-10 col-lg-12 mx-auto">
                        <div class="accordion" id="accordionExample">
                            <form action="/explore/<%= currentUser._id %>" method="GET" >
                                <div class="card">
                                    <div class="card-header" id="headingOne">
                                        <h2 class="mb-0">
                                            <button id = "myclass1" class="btn btn-link card-link filter myclass text-dark btn-outline-light btn-block text-center " type="button" data-toggle="collapse"
                                                data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                Filter by Username<i class="fas fa-chevron-down ml-2" id = "iTag1"></i>
                                            </button>
                                        </h2>
                                    </div>
                                
                                    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                                        <div class="row">
                                            <div class="card-body col-md-10 mx-auto">
                                                <div class="form-group ">
                                                    <input id="text" type="text" name="username" placeholder="Filter by username" class="form-control">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingTwo">
                                        <h2 class="mb-0">
                                            <button id = "myclass2" class="btn btn-link filter myclass card-link text-dark btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                Filter by City<i class="fas fa-chevron-down ml-2" id = "iTag2"></i>
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionExample">
                                        <div class="row">
                                          <div class="card-body col-md-10 mx-auto">
                                                <div class="form-group">
                                                    <select name="city" id="text" class="form-control">
                                                        <option selected value="" >Select City</option>
                                                        <% for(var i =0; i<cities.length; i++) { %>
                                                            <option><%=cities[i]%></option>
                                                        <% } %>
                                                    </select>
                                                </div>
                                            </div>  
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingThree">
                                        <h2 class="mb-0">
                                            <button id="myclass3" class="btn btn-link filter myclass card-link text-dark btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                Filter by Gender<i class="fas fa-chevron-down ml-2" id = "iTag3"></i>
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">
                                        <div class="row">
                                            <div class="card-body col-md-10 mx-auto">
                                                <div class="form-group">
                                                    <select name="gender" id="text" class="form-control">
                                                        <option selected value="">Select Gender</option>
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                        <option value="Others">Others</option>
                                                    </select>
                                                </div>
                                            
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingThree">
                                        <h2 class="mb-0">
                                            <button id = "myclass4" class="btn btn-link filter myclass card-link text-dark btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                                Filter by Name<i class="fas fa-chevron-down ml-2 " id = "iTag4"></i>
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordionExample">
                                        <div class="row">
                                         <div class="card-body col-md-10 mx-auto">
                                            <div class="form-group">
                                                <input id="text" type="text" name="name" placeholder="Filter by name" class="form-control">
                                            </div>
                                        </div>   
                                        </div>
                                    </div>
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingFive">
                                        <h2 class="mb-0">
                                            <button id = "myclass5" class=" btn btn-link filter myclass card-link text-dark btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                                Filter by Age<i class="fas fa-chevron-down ml-2" id = "iTag5"></i>
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordionExample">
                                        <div class="row">
                                           <div class="card-body col-md-10 mx-auto">
                                                <div class="form-group">
                                                    <select name="age" type="text" id="text" class="form-control">
                                                        <option selected value="">Select Age Group</option>
                                                        <option>15-18</option>
                                                        <option>19-21</option>
                                                        <option>22-26</option>
                                                        <option>27-30</option>
                                                        <option>31-50</option>
                                                        <option>Above 50</option>
                                                    </select>
                                                </div>
                                            </div> 
                                        </div>
                                    </div>    
                                </div>
                                <div class="card">
                                    <div class="card-header" id="headingSix">
                                        <h2 class="mb-0">
                                            <button id = "myclass6" class=" btn btn-link filter myclass card-link text-dark btn-outline-light btn-block text-center collapsed" type="button" data-toggle="collapse"
                                                data-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                                Filter by Preference<i class="fas fa-chevron-down ml-2" id = "iTag6"></i>
                                            </button>
                                        </h2>
                                    </div>
                                    <div id="collapseSix" class="collapse" aria-labelledby="headingSix" data-parent="#accordionExample">
                                        <div class="row">
                                           <div class="card-body col-md-10 mx-auto">
                                                <div class="form-group">
                                                    <select name="relPreference" type="text" id="text" class="form-control">
                                                        <option selected value="">Select Your Preference</option>
                                                        <option>Straight</option>
                                                        <option>Homosexual</option>
                                                        <option>Bisexual</option>
                                                    </select>
                                                </div>
                                        </div> 
                                        </div>
                                    </div>    
                                </div>
                                <div class="d-flex justify-content-center">
                                    <button class="btn btn-info my-4 btn-lg mx-auto rounded-0">Apply Filters &nbsp;<i class="fa fa-search" aria-hidden="true"></i></button>
                                </div>
                                <div class="d-flex justify-content-center">
                                    <form action = "/explore/<%= currentUser._id %>" method = "POST">
                                        <button class="btn btn-danger btn-sm my-2 mx-auto rounded-0">Clear Filters &nbsp; <i class="fa fa-trash" aria-hidden="true"></i></button>
                                    </form>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-9">
                
                <div class="row d-flex justify-content-center ">
                    <% users.forEach(function (user) { %>
                       <div class="col-sm-6 col-xl-4 my-3">
                           <a id="card" href="/profile/<%= user._id %>/view " class="card-link">
                                <div class="card h-100 shadow bg-white rounded mb-5 text-center">
                                    <img class="img-fluid explore-users-img p-3" src="<%= user.image %>">
                                    <div class="card-body col-md-10 px-4 py-0 px-md-0 mx-auto mb-3 text-dark">
                                        <h3 class="card-title text-center"><%= user.name %></h3>
                                        <div class="d-flex justify-content-center">
                                            <span class="text-muted"><%= user.age %> &#8226; </span><span class=" text-muted text-center">&nbsp; @<%= user.username %> &nbsp; </span> <span class="text-muted"> &#8226; <%= user.city %></span>
                                        </div>                 
                                        <div class="dropdown-divider"></div>
                                        <% if(user.bio.length <= 247) { %>
                                            <span class="card-text p-0 text-center"><%= user.bio %></span>
                                        <% } else { %>
                                            <span class="card-text p-0 text-center"><%= user.bio.substring(0,247)%>...</span>
                                        <% } %>
                                    </div>
                                </div>
                            </a>
                        </div>
                    <% }); %>
                </div>
            </div>
        </div>
    </div>
<script src="/scripts/explore.js"></script>  

<%- include("./partials/footer") %>

